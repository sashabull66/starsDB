{"ast":null,"code":"var _jsxFileName = \"/home/user/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/Git repos/sashabull66/sashabull66/sashabull66/starsDB/src/components/HOC/WithData/WithData.js\";\nimport React, { Component } from \"react\";\nimport Spinner from \"../../Spinner\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst WithData = ViewComponent => {\n  var _temp;\n\n  return _temp = class extends Component {\n    constructor(...args) {\n      super(...args);\n      this.state = {\n        data: null // info for feature render\n\n      };\n\n      this.update = () => {\n        this.props.getData().then(data => {\n          this.setState({\n            data\n          });\n        });\n      };\n    }\n\n    componentDidUpdate(prevProps) {\n      if (this.props.getData !== prevProps.getData) {\n        this.update();\n      }\n    }\n\n    componentDidMount() {\n      this.update();\n    }\n\n    render() {\n      return !this.state.data ? /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 39\n      }, this) : /*#__PURE__*/_jsxDEV(ViewComponent, { ...this.state,\n        ...this.props\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 52\n      }, this);\n    }\n\n  }, _temp;\n};\n\n_c = WithData;\nexport default WithData;\n\nvar _c;\n\n$RefreshReg$(_c, \"WithData\");","map":{"version":3,"sources":["/home/user/Рабочий стол/Git repos/sashabull66/sashabull66/sashabull66/starsDB/src/components/HOC/WithData/WithData.js"],"names":["React","Component","Spinner","WithData","ViewComponent","state","data","update","props","getData","then","setState","componentDidUpdate","prevProps","componentDidMount","render"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,OAAP,MAAoB,eAApB;;;AAEA,MAAMC,QAAQ,GAAIC,aAAD,IAAmB;AAAA;;AAChC,iBAAO,cAAcH,SAAd,CAAwB;AAAA;AAAA;AAAA,WAC3BI,KAD2B,GACnB;AACJC,QAAAA,IAAI,EAAE,IADF,CACQ;;AADR,OADmB;;AAAA,WAe3BC,MAf2B,GAelB,MAAM;AACX,aAAKC,KAAL,CAAWC,OAAX,GACKC,IADL,CACUJ,IAAI,IAAI;AACV,eAAKK,QAAL,CAAc;AACVL,YAAAA;AADU,WAAd;AAGH,SALL;AAMH,OAtB0B;AAAA;;AAK3BM,IAAAA,kBAAkB,CAACC,SAAD,EAAY;AAC1B,UAAI,KAAKL,KAAL,CAAWC,OAAX,KAAuBI,SAAS,CAACJ,OAArC,EAA8C;AAC1C,aAAKF,MAAL;AACH;AACI;;AAETO,IAAAA,iBAAiB,GAAG;AAChB,WAAKP,MAAL;AACH;;AAWDQ,IAAAA,MAAM,GAAG;AACL,aAAO,CAAC,KAAKV,KAAL,CAAWC,IAAZ,gBAAmB,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,cAAnB,gBAAgC,QAAC,aAAD,OAAmB,KAAKD,KAAxB;AAAA,WAAmC,KAAKG;AAAxC;AAAA;AAAA;AAAA;AAAA,cAAvC;AACH;;AA1B0B,GAA/B;AA4BH,CA7BD;;KAAML,Q;AA+BN,eAAeA,QAAf","sourcesContent":["import React, {Component} from \"react\";\nimport Spinner from \"../../Spinner\";\n\nconst WithData = (ViewComponent) => {\n    return class extends Component {\n        state = {\n            data: null, // info for feature render\n        }\n\n        componentDidUpdate(prevProps) {\n            if (this.props.getData !== prevProps.getData) {\n                this.update()\n            }\n                }\n\n        componentDidMount() {\n            this.update()\n        }\n\n        update = () => {\n            this.props.getData()\n                .then(data => {\n                    this.setState({\n                        data,\n                    })\n                })\n        }\n\n        render() {\n            return !this.state.data ? <Spinner/> : <ViewComponent {...this.state} {...this.props}/>\n        }\n    }\n}\n\nexport default WithData"]},"metadata":{},"sourceType":"module"}