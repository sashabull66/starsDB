{"ast":null,"code":"/*\nfetch('https://swapi.dev/api/people/1')\n.then(r=>r.json())\n.then(r=>console.log(r))\n*/\nclass SwapiService {\n  constructor() {\n    this._startUrl = 'https://swapi.dev/api/';\n  }\n\n  async fetchToSwapi(url) {\n    const f = await fetch(this._startUrl + url.toString());\n\n    if (!f.ok) {\n      throw new Error(`Not fetch url ${url}. Error status - ${f.status}`);\n    }\n\n    return await f.json();\n  }\n\n  async getAllPeople() {\n    const r = await this.fetchToSwapi('people');\n    return r.results;\n  }\n\n  async getPeople(id) {\n    return await this.fetchToSwapi(`people/${id}`);\n  }\n\n  async getAllPlanets() {\n    const r = await this.fetchToSwapi('planets');\n    return r.results;\n  }\n\n  async getPlanet(id) {\n    return await this.fetchToSwapi(`planets/${id}`);\n  }\n\n}\n\nconst swapi = new SwapiService();\nswapi.getPlanet(5).then(console.log);\nswapi.getAllPlanets().then(console.log);\nswapi.getPeople(5).then(console.log);\nswapi.getAllPeople().then(console.log);","map":{"version":3,"sources":["/home/user/Рабочий стол/star-db/src/index.js"],"names":["SwapiService","_startUrl","fetchToSwapi","url","f","fetch","toString","ok","Error","status","json","getAllPeople","r","results","getPeople","id","getAllPlanets","getPlanet","swapi","then","console","log"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AAGA,MAAMA,YAAN,CAAmB;AAAA;AAAA,SACfC,SADe,GACH,wBADG;AAAA;;AAGG,QAAZC,YAAY,CAACC,GAAD,EAAM;AACpB,UAAMC,CAAC,GAAG,MAAMC,KAAK,CAAC,KAAKJ,SAAL,GAAiBE,GAAG,CAACG,QAAJ,EAAlB,CAArB;;AACA,QAAI,CAACF,CAAC,CAACG,EAAP,EAAW;AACP,YAAM,IAAIC,KAAJ,CAAW,iBAAgBL,GAAI,oBAAmBC,CAAC,CAACK,MAAO,EAA3D,CAAN;AACH;;AACD,WAAO,MAAML,CAAC,CAACM,IAAF,EAAb;AACH;;AAEiB,QAAZC,YAAY,GAAG;AACjB,UAAMC,CAAC,GAAG,MAAM,KAAKV,YAAL,CAAkB,QAAlB,CAAhB;AACA,WAAOU,CAAC,CAACC,OAAT;AACH;;AAEc,QAATC,SAAS,CAACC,EAAD,EAAK;AAChB,WAAO,MAAM,KAAKb,YAAL,CAAmB,UAASa,EAAG,EAA/B,CAAb;AACH;;AAEkB,QAAbC,aAAa,GAAG;AAClB,UAAMJ,CAAC,GAAG,MAAM,KAAKV,YAAL,CAAkB,SAAlB,CAAhB;AACA,WAAOU,CAAC,CAACC,OAAT;AACH;;AAEc,QAATI,SAAS,CAACF,EAAD,EAAK;AAChB,WAAO,MAAM,KAAKb,YAAL,CAAmB,WAAUa,EAAG,EAAhC,CAAb;AACH;;AA3Bc;;AA8BnB,MAAMG,KAAK,GAAG,IAAIlB,YAAJ,EAAd;AACAkB,KAAK,CAACD,SAAN,CAAgB,CAAhB,EAAmBE,IAAnB,CAAwBC,OAAO,CAACC,GAAhC;AACAH,KAAK,CAACF,aAAN,GAAsBG,IAAtB,CAA2BC,OAAO,CAACC,GAAnC;AACAH,KAAK,CAACJ,SAAN,CAAgB,CAAhB,EAAmBK,IAAnB,CAAwBC,OAAO,CAACC,GAAhC;AACAH,KAAK,CAACP,YAAN,GAAqBQ,IAArB,CAA0BC,OAAO,CAACC,GAAlC","sourcesContent":["/*\nfetch('https://swapi.dev/api/people/1')\n.then(r=>r.json())\n.then(r=>console.log(r))\n*/\n\n\nclass SwapiService {\n    _startUrl = 'https://swapi.dev/api/';\n\n    async fetchToSwapi(url) {\n        const f = await fetch(this._startUrl + url.toString())\n        if (!f.ok) {\n            throw new Error(`Not fetch url ${url}. Error status - ${f.status}`)\n        }\n        return await f.json()\n    }\n\n    async getAllPeople() {\n        const r = await this.fetchToSwapi('people')\n        return r.results\n    }\n\n    async getPeople(id) {\n        return await this.fetchToSwapi(`people/${id}`)\n    }\n\n    async getAllPlanets() {\n        const r = await this.fetchToSwapi('planets')\n        return r.results\n    }\n\n    async getPlanet(id) {\n        return await this.fetchToSwapi(`planets/${id}`)\n    }\n}\n\nconst swapi = new SwapiService()\nswapi.getPlanet(5).then(console.log)\nswapi.getAllPlanets().then(console.log)\nswapi.getPeople(5).then(console.log)\nswapi.getAllPeople().then(console.log)"]},"metadata":{},"sourceType":"module"}