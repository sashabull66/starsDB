{"ast":null,"code":"class SwapiService {\n  constructor() {\n    this._startUrl = 'https://swapi.dev/api/';\n    this._startImageUrl = 'https://starwars-visualguide.com/assets/img/';\n\n    this._extractId = item => {\n      const idRegExp = /\\/([0-9]*)\\/$/;\n      return item.url.match(idRegExp)[1];\n    };\n\n    this._transformPlanet = planet => {\n      const id = this._extractId(planet);\n\n      return {\n        id,\n        name: planet.name,\n        population: planet.population,\n        rotationPeriod: planet.rotation_period,\n        diameter: planet.diameter\n      };\n    };\n\n    this._transformStarShip = ship => {\n      console.log(ship);\n\n      const id = this._extractId(ship);\n\n      return {\n        id,\n        name: ship.name,\n        model: ship.model,\n        manufacturer: ship.manufacturer,\n        costInCredit: ship.cost_in_credits,\n        length: ship.length,\n        crew: ship.crew,\n        passengers: ship.passengers,\n        cargoCapacity: ship.cargoCapacity\n      };\n    };\n\n    this._transformPerson = person => {\n      const id = this._extractId(person);\n\n      return {\n        id,\n        name: person.name,\n        gender: person.gender,\n        birthYear: person.birth_year,\n        eyeColor: person.eye_color\n      };\n    };\n\n    this._fetchToSwapi = async url => {\n      const f = await fetch(this._startUrl + url.toString());\n\n      if (!f.ok) {\n        throw new Error(`Not fetch url ${url}. Error status - ${f.status}`);\n      }\n\n      return await f.json();\n    };\n\n    this.getAllStarship = async () => {\n      const starships = await this._fetchToSwapi('starships');\n      return starships.results.map(people => this._transformStarShip(people));\n    };\n\n    this.getStarship = async id => {\n      const starship = await this._fetchToSwapi(`starships/${id}`);\n      return this._transformStarShip(starship);\n    };\n\n    this.getAllPeople = async () => {\n      const peoples = await this._fetchToSwapi('people');\n      return peoples.results.map(people => this._transformPerson(people));\n    };\n\n    this.getPeople = async id => {\n      const people = await this._fetchToSwapi(`people/${id}`);\n      return this._transformPerson(people);\n    };\n\n    this.getAllPlanets = async () => {\n      const planets = await this._fetchToSwapi('planets');\n      return planets.results.map(planet => this._transformPlanet(planet));\n    };\n\n    this.getPlanet = async id => {\n      const planet = await this._fetchToSwapi(`planets/${id}`);\n      return this._transformPlanet(planet);\n    };\n\n    this.getPersonImage = ({\n      id\n    }) => {\n      return `${this._startImageUrl}characters/${id}.jpg`;\n    };\n\n    this.getStarshipImage = ({\n      id\n    }) => {\n      return `${this._startImageUrl}starships/${id}.jpg`;\n    };\n\n    this.getPlanetImage = ({\n      id\n    }) => {\n      return `${this._startImageUrl}planets/${id}.jpg`;\n    };\n  }\n\n}\n\nexport const swapi = new SwapiService();","map":{"version":3,"sources":["/home/user/Рабочий стол/Git repos/sashabull66/sashabull66/sashabull66/starsDB/src/services/swapi/SwapiService.js"],"names":["SwapiService","_startUrl","_startImageUrl","_extractId","item","idRegExp","url","match","_transformPlanet","planet","id","name","population","rotationPeriod","rotation_period","diameter","_transformStarShip","ship","console","log","model","manufacturer","costInCredit","cost_in_credits","length","crew","passengers","cargoCapacity","_transformPerson","person","gender","birthYear","birth_year","eyeColor","eye_color","_fetchToSwapi","f","fetch","toString","ok","Error","status","json","getAllStarship","starships","results","map","people","getStarship","starship","getAllPeople","peoples","getPeople","getAllPlanets","planets","getPlanet","getPersonImage","getStarshipImage","getPlanetImage","swapi"],"mappings":"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","sourcesContent":["class SwapiService {\n    _startUrl = 'https://swapi.dev/api/';\n    _startImageUrl = 'https://starwars-visualguide.com/assets/img/'\n    _extractId = (item) => {\n        const idRegExp = /\\/([0-9]*)\\/$/;\n        return item.url.match(idRegExp)[1];\n    };\n    _transformPlanet = (planet) => {\n        const id = this._extractId(planet)\n        return {\n            id,\n            name: planet.name,\n            population: planet.population,\n            rotationPeriod: planet.rotation_period,\n            diameter: planet.diameter\n        }\n    };\n    _transformStarShip = (ship) => {\n        console.log(ship)\n        const id = this._extractId(ship)\n        return {\n            id,\n            name: ship.name,\n            model: ship.model,\n            manufacturer: ship.manufacturer,\n            costInCredit: ship.cost_in_credits,\n            length: ship.length,\n            crew: ship.crew,\n            passengers: ship.passengers,\n            cargoCapacity: ship.cargoCapacity\n        }\n    };\n    _transformPerson = (person) => {\n        const id = this._extractId(person)\n        return {\n            id,\n            name: person.name,\n            gender: person.gender,\n            birthYear: person.birth_year,\n            eyeColor: person.eye_color\n        }\n    };\n    _fetchToSwapi = async (url) => {\n        const f = await fetch(this._startUrl + url.toString())\n        if (!f.ok) {\n            throw new Error(`Not fetch url ${url}. Error status - ${f.status}`)\n        }\n        return await f.json()\n    };\n\n    getAllStarship = async () => {\n        const starships = await this._fetchToSwapi('starships')\n        return starships.results.map(people=>this._transformStarShip(people))\n    };\n    getStarship = async (id) => {\n        const starship = await this._fetchToSwapi(`starships/${id}`)\n        return this._transformStarShip(starship)\n    };\n    getAllPeople = async () => {\n        const peoples = await this._fetchToSwapi('people')\n        return peoples.results.map(people=>this._transformPerson(people))\n    };\n    getPeople = async (id) => {\n        const people = await this._fetchToSwapi(`people/${id}`)\n        return this._transformPerson(people)\n    };\n    getAllPlanets = async () => {\n        const planets = await this._fetchToSwapi('planets')\n        return planets.results.map(planet => this._transformPlanet(planet))\n    };\n    getPlanet = async (id) => {\n        const planet = await this._fetchToSwapi(`planets/${id}`)\n        return this._transformPlanet(planet)\n    };\n    getPersonImage = ({id}) => {\n        return `${this._startImageUrl}characters/${id}.jpg`\n    };\n    getStarshipImage = ({id}) => {\n        return `${this._startImageUrl}starships/${id}.jpg`\n    };\n    getPlanetImage = ({id}) => {\n        return `${this._startImageUrl}planets/${id}.jpg`\n    };\n}\nexport const swapi = new SwapiService();\n"]},"metadata":{},"sourceType":"module"}